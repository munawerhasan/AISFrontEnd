<div class="splash-screen">
	<div class="splash-loader"></div>
</div>

<div class="card p-shadow-8">
	<p-tabView orientation="left">
		<p-tabPanel header="Today's Assignment" leftIcon="pi pi-check">

			<p-panel header="Assignment Detail 25-02-2021">
				<div>
					<p-button [icon]="activeState[0] ? 'pi pi-minus' : 'pi pi-plus'" (click)="toggle(0)"
						styleClass="p-button-text" label="Maths"></p-button>
					<p-button [icon]="activeState[1] ? 'pi pi-minus' : 'pi pi-plus'" (click)="toggle(1)"
						styleClass="p-button-text p-ml-2" label="Hindi"></p-button>
					<p-button [icon]="activeState[2] ? 'pi pi-minus' : 'pi pi-plus'" (click)="toggle(2)"
						styleClass="p-button-text p-ml-2" label="English"></p-button>
				</div>	
			</p-panel>

			<p-accordion>
				<p-accordionTab header="Maths" [(selected)]="activeState[0]">
					<div class="p-grid">
						<div class="p-col-12 p-md-4 p-lg-4 p-mt-2" *ngFor="let item of data">
							<div class="card p-shadow-4 widget-contacts">
								<div class="p-grid">
									<div class="p-col-12 p-md-4 p-lg-4">
										<ul>
											<li class="clearfix">
												<img src="assets/layout/images/avatar.png" width="65">
												<div class="contact-info">
													<span class="name">{{item.publisherName}}</span>
												</div>
											</li>
										</ul>
									</div>
									<div class="p-col-12 p-md-8 p-lg-8">
										<p-scrollPanel [style]="{width: '100%', height: '120px'}"
											styleClass="custombar2">
											<table width='400px' cellspacing="6">
												<tr>
													<td>
														Publish Date :
													</td>
													<td>
														{{item.createdDate | date:'medium'}}
													</td>
												</tr>
												<tr>
													<td>
														Submit Date :
													</td>
													<td>
														{{item.toBeSubmittedDate | date:'medium'}}
													</td>
												</tr>
												<tr>
													<td>
														Assign..Status :
													</td>
													<td>
														<p>Incomplete</p>
													</td>
												</tr>
												<tr>
													<td>
														Attachments :
													</td>
													<td>
														<div *ngFor="let attachment of item.attachments">
															<div class="p-col-auto" class="p-ml-1">
																<a href="{{baseURL}}/{{attachment.path}}"
																	target="_blank" download><i
																		class="pi pi-download"></i></a>
															</div>
														</div>
													</td>
												</tr>
											</table>
										</p-scrollPanel>
									</div>
									<div class="p-col-12 p-md-12 p-shadow-1 ">
										<p-scrollPanel [style]="{width: '100%', height: '150px'}"
											styleClass="custombar2">
											<table width='300px' cellspacing="5">
												<tr>
													<td>
														Assignment Title :
													</td>
													<td>
														{{item.name}}
													</td>
												</tr>
												<tr>
													<td>
														Subject Name :
													</td>
													<td>
														{{item.subjectName}}
													</td>
												</tr>
												<tr>
													<td>
														Unit :
													</td>
													<td>
														2
													</td>
												</tr>
												<tr>
													<td>
														Chapter :
													</td>
													<td>
														{{item.name}}
													</td>
												</tr>
												<tr>
													<td>
														Topic :
													</td>
													<td>
														{{item.name}}
													</td>
												</tr>
											</table>
										</p-scrollPanel>
									</div>

									<div class="p-col-12 p-md-12 p-shadow-4 p-mt-2">
										<label><b>Description</b></label>
										<p-scrollPanel [style]="{width: '100%', height: '100px'}"
											styleClass="custombar2">
											{{item.description}}
											Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
											tempor
											incididunt ut labore et dolore magna aliqua.
											Vitae et leo duis ut diam.
											Ultricies mi quis hendrerit dolor magna eget est lorem. Amet consectetur
											adipiscing
											elit ut.
											Nam libero justo laoreet sit amet. Pharetra massa massa ultricies mi quis
											hendrerit
											dolor magna.
											Est ultricies integer quis auctor elit sed vulputate. Consequat ac felis
											donec et.
											Tellus orci ac auctor augue mauris.
											Semper feugiat nibh sed pulvinar proin gravida hendrerit lectus a. Tincidunt
											arcu
											non sodales neque sodales.
											Metus aliquam eleifend mi in nulla posuere sollicitudin aliquam ultrices.
											Sodales ut
											etiam sit amet nisl purus.
											Cursus sit amet dictum sit amet. Tristique senectus et netus et malesuada
											fames ac
											turpis egestas.
											Et tortor consequat id porta nibh venenatis cras sed. Diam maecenas
											ultricies mi
											eget mauris.
											Eget egestas purus viverra accumsan in nisl nisi. Suscipit adipiscing
											bibendum est
											ultricies integer.
											Mattis aliquam faucibus purus in massa tempor nec.
										</p-scrollPanel>
									</div>
									<div class="p-mt-4 p-shadow-1">
										<p *ngIf="(item.assignmentStatus == 1 || item.assignmentStatus == 2)">
											<button pButton type="button" class="p-button-primary" icon="pi pi-exclamation-circle" iconPos="left"
												label="Pending Assignment"
												(click)="openAssignmentModal(item.assignmentId,item.userAssignmentId)">
											</button>
										</p>
										<p
											*ngIf="(item.assignmentStatus == 3 || item.assignmentStatus == 4 || item.assignmentStatus == 5)">
											<button pButton type="button" icon="pi pi-check" iconPos="left"
												label="Already Submitted" class="p-button-info"></button>
										</p>
										<p *ngIf="(item.assignmentStatus == 7)">
											<button pButton type="button" icon="pi pi-times-circle"
											 iconPos="left" class="p-button-danger" label="Assignment
											Rejected! Try Again" (click)="openAssignmentModal(item.assignmentId,item.userAssignmentId)"></button>
										</p>
										<p *ngIf="(item.assignmentStatus == 10)">
											<button pButton type="button" icon="pi pi-check-square"
											 iconPos="left"
												label="Your Assignment Successfully Accepted"
												class="p-button-success"></button>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</p-accordionTab>
				<p-accordionTab header="Hindi" [(selected)]="activeState[1]">
					<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,
						totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
						architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit
						aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione
						voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi.</p>
				</p-accordionTab>
				<p-accordionTab header="English" [(selected)]="activeState[2]">
					<p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum
						deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati
						cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est
						laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio.
						Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus.</p>
				</p-accordionTab>
			</p-accordion>

		</p-tabPanel>
		<p-tabPanel header="Assignment History" leftIcon="pi pi-user">
			<p-toolbar>
				<div class="p-toolbar-group-left p-grid">
					<div class="p-ml-2">
						<p-dropdown filter="true" placeholder="Select a Subject" optionLabel="subjectName">
						</p-dropdown>
					</div>
					<div class="p-ml-2">
						<p-dropdown filter="true" placeholder="Select a Unit" optionLabel="subjectName">
						</p-dropdown>
					</div>
					<div class="p-ml-2">
						<p-dropdown filter="true" placeholder="Select a Chapter" optionLabel="subjectName">
						</p-dropdown>
					</div>
					<div class="p-ml-2">
						<p-dropdown filter="true" placeholder="Select a Topic" optionLabel="subjectName">
						</p-dropdown>
					</div>
				</div>
			</p-toolbar>
			<div class="p-grid">
				<div class="p-col-12 p-md-4 p-lg-4 p-mt-2" *ngFor="let item of data">
					<div class="card p-shadow-4 widget-contacts">
						<div class="p-grid">
							<div class="p-col-12 p-md-4 p-lg-4">
								<ul>
									<li class="clearfix">
										<img src="assets/layout/images/avatar.png" width="45">
										<div class="contact-info">
											<span class="name">{{item.publisherName}}</span>
										</div>
									</li>
								</ul>
							</div>
							<div class="p-col-12 p-md-8 p-lg-8">
								<p-scrollPanel [style]="{width: '100%', height: '120px'}" styleClass="custombar2">
									<table width='400px' cellspacing="6">
										<tr>
											<td>
												Publish Date :
											</td>
											<td>
												{{item.createdDate | date:'medium'}}
											</td>
										</tr>
										<tr>
											<td>
												Submit Date :
											</td>
											<td>
												{{item.toBeSubmittedDate | date:'medium'}}
											</td>
										</tr>
										<tr>
											<td>
												Assign..Status :
											</td>
											<td>
												<p>Incomplete</p>
											</td>
										</tr>
										<tr>
											<td>
												Attachments :
											</td>
											<td>
												<div *ngFor="let attachment of item.attachments">
													<div class="p-col-auto" class="p-ml-1">
														<a href="{{baseURL}}/{{attachment.path}}" target="_blank"
															download><i class="pi pi-download"></i></a>
													</div>
												</div>
											</td>
										</tr>
									</table>
								</p-scrollPanel>
							</div>
							<div class="p-col-12 p-md-12 p-shadow-1 ">
								<p-scrollPanel [style]="{width: '100%', height: '150px'}" styleClass="custombar2">
									<table width='300px' cellspacing="5">
										<tr>
											<td>
												Assignment Title :
											</td>
											<td>
												{{item.name}}
											</td>
										</tr>
										<tr>
											<td>
												Subject Name :
											</td>
											<td>
												{{item.subjectName}}
											</td>
										</tr>
										<tr>
											<td>
												Unit :
											</td>
											<td>
												2
											</td>
										</tr>
										<tr>
											<td>
												Chapter :
											</td>
											<td>
												{{item.name}}
											</td>
										</tr>
										<tr>
											<td>
												Topic :
											</td>
											<td>
												{{item.name}}
											</td>
										</tr>
									</table>
								</p-scrollPanel>
							</div>

							<div class="p-col-12 p-md-12 p-shadow-4 p-mt-2">
								<label><b>Description</b></label>
								<p-scrollPanel [style]="{width: '100%', height: '100px'}" styleClass="custombar2">
									{{item.description}}
									Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
									incididunt ut labore et dolore magna aliqua.
									Vitae et leo duis ut diam.
									Ultricies mi quis hendrerit dolor magna eget est lorem. Amet consectetur adipiscing
									elit ut.
									Nam libero justo laoreet sit amet. Pharetra massa massa ultricies mi quis hendrerit
									dolor magna.
									Est ultricies integer quis auctor elit sed vulputate. Consequat ac felis donec et.
									Tellus orci ac auctor augue mauris.
									Semper feugiat nibh sed pulvinar proin gravida hendrerit lectus a. Tincidunt arcu
									non sodales neque sodales.
									Metus aliquam eleifend mi in nulla posuere sollicitudin aliquam ultrices. Sodales ut
									etiam sit amet nisl purus.
									Cursus sit amet dictum sit amet. Tristique senectus et netus et malesuada fames ac
									turpis egestas.
									Et tortor consequat id porta nibh venenatis cras sed. Diam maecenas ultricies mi
									eget mauris.
									Eget egestas purus viverra accumsan in nisl nisi. Suscipit adipiscing bibendum est
									ultricies integer.
									Mattis aliquam faucibus purus in massa tempor nec.
								</p-scrollPanel>
							</div>
							<div class="p-mt-4 p-shadow-1">
								<p *ngIf="(item.assignmentStatus == 1 || item.assignmentStatus == 2)">
									<button pButton type="button" class="p-button-primary" icon="pi pi-exclamation-circle" iconPos="left"
										label="Pending Assignment"
										(click)="openAssignmentModal(item.assignmentId,item.userAssignmentId)">
									</button>
								</p>
								<p
									*ngIf="(item.assignmentStatus == 3 || item.assignmentStatus == 4 || item.assignmentStatus == 5)">
									<button pButton type="button" icon="pi pi-check" iconPos="left"
										label="Already Submitted" class="p-button-info"></button>
								</p>
								<p *ngIf="(item.assignmentStatus == 7)">
									<button pButton type="button" icon="pi pi-times-circle"
									 iconPos="left" class="p-button-danger" label="Assignment
									Rejected! Try Again" (click)="openAssignmentModal(item.assignmentId,item.userAssignmentId)"></button>
								</p>
								<p *ngIf="(item.assignmentStatus == 10)">
									<button pButton type="button" icon="pi pi-check-square"
									 iconPos="left"
										label="Your Assignment Successfully Accepted"
										class="p-button-success"></button>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</p-tabPanel>
		<p-tabPanel header="Header III" leftIcon="pi pi-mobile">
			At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti
			atque corrupti quos dolores
			et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia
			deserunt mollitia animi, id est laborum et dolorum fuga.
			Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi
			optio cumque nihil impedit
			quo minus.
		</p-tabPanel>
	</p-tabView>
</div>
<p-toast></p-toast>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
	<p-dialog [(visible)]="assignmentDialog" [style]="{width: '600px', height:'auto'}" header="Submit Assignment"
		[modal]="true" styleClass="p-fluid">
		<ng-template pTemplate="content">
			<div class="p-field p-col-sm-12 p-col-md-12">
				<p-dropdown [options]="states" placeholder="Select Status" formControlName="assignmentStatus"
					optionLabel="statesName">
				</p-dropdown>
				<small class="messages text-danger" *ngIf="form.controls.assignmentStatus.errors?.required 
        && (form.controls.assignmentStatus.dirty || form.controls.assignmentStatus.touched) || 
        (submitted && form.controls.assignmentStatus.errors?.required)">Status Reuired!</small>
			</div>
			<div class="p-field">
				<input type="text" formControlName="feedback" placeholder="Feedback" pInputText>
				<small class="messages text-danger" *ngIf="form.controls.feedback.errors?.required 
        && (form.controls.feedback.dirty || form.controls.feedback.touched) || 
        (submitted && form.controls.feedback.errors?.required)">Feedback Required!</small>
			</div>
			<div class="p-field p-col-12 p-md-12">
				<p-fieldset legend="Attach-File" [collapsed]="true" [toggleable]="true">
					<p-fileUpload name="files[]" chooseLabel="File" (onSelect)="onUpload($event)"
						[showCancelButton]="true" [showUploadButton]="false" multiple="multiple"
						accept="image/*,.csv,.xml,.doc,.docx,.pdf" maxFileSize="9000000">
					</p-fileUpload>
				</p-fieldset>
			</div>
		</ng-template>
		<ng-template pTemplate="footer">
			<button pButton pRipple label="Cancel" icon="pi pi-times" (click)="cancelDialog()"
				class="p-button-text"></button>
			<button pButton pRipple label="Save" type="submit" icon="pi pi-check" class="p-button-text"></button>
		</ng-template>
	</p-dialog>
</form>